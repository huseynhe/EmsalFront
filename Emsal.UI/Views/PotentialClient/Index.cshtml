@model Emsal.UI.Models.PotentialClientViewModel

@{
    ViewBag.Title = "PotentialClient";
    Layout = "~/Views/Shared/_LayoutProfile.cshtml";
}
<script src="~/ContentProfile/js/PotentialClient.js"></script>


@using (Html.BeginForm("Index", "PotentialClient", FormMethod.Post,
                             new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()

    <a href="#" class="add-classified-help">Qaydalar</a>
    <div class="clear-both"></div>
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    
    <div class="potensial_client">
        <div id="mainf">
                <ul class="nav nav-tabs" id="myTab">
                    <li style="cursor:pointer;" onclick="finvoennull('VOEN')" class="active"><a data-target="#physical" data-toggle="tab">Fiziki şəxs</a></li>
                    <li style="cursor:pointer;" onclick="finvoennull('FIN')"><a data-target="#legal" data-toggle="tab">Hüquqi şəxs</a></li>
                </ul>

                <div class="tab-content "><br />
                    <div class="tab-pane active" id="physical">

                        <div class="col-md-3">
                            <div class="col-sm-8" style="padding:0;">
                                <div class="form-group">
                                    @Html.LabelFor(model => model.FIN, htmlAttributes: new { @class = "control-label" })
                                    @Html.EditorFor(model => model.FIN, new { @class = "form-control", required = "required" })
                                    @Html.ValidationMessageFor(model => model.FIN, "", new { @class = "text-danger" })
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <label class="control-label">&nbsp;</label>
                                <div onclick="getPhysicalPerson()" class="btn btn-primary">yoxla</div>
                            </div>
                            </div>

                        <div class="col-md-3">
                            <div class="form-group">
                                @Html.LabelFor(model => model.name, htmlAttributes: new { @class = "control-label" })
                                @Html.EditorFor(model => model.name, new { @class = "form-control", required = "required" })
                                @Html.ValidationMessageFor(model => model.name, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="col-md-3">
                            <div class="form-group">
                                @Html.LabelFor(model => model.surname, htmlAttributes: new { @class = "control-label" })
                                @Html.EditorFor(model => model.surname, new { @class = "form-control", required = "required" })
                                @Html.ValidationMessageFor(model => model.surname, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="col-md-3">
                                <div class="form-group">
                                    @Html.LabelFor(model => model.fathername, htmlAttributes: new { @class = "control-label" })
                                    @Html.EditorFor(model => model.fathername, new { @class = "form-control", required = "required" })
                                    @Html.ValidationMessageFor(model => model.fathername, "", new { @class = "text-danger" })
                                </div>
                        </div>

                    </div>
                    <div class="tab-pane" id="legal">
                        <div class="col-md-3">
                            <div class="col-sm-8" style="padding:0;">
                                <div class="form-group">
                                    @Html.LabelFor(model => model.VOEN, htmlAttributes: new { @class = "control-label" })
                                    @Html.EditorFor(model => model.VOEN, new { @class = "form-control", required = "required" })
                                    @Html.ValidationMessageFor(model => model.VOEN, "", new { @class = "text-danger" })
                                </div>
                            </div>
                                <div class="col-sm-4">
                                    <label class="control-label">&nbsp;</label>
                                    <div onclick="getLegalPerson()" class="btn btn-primary">yoxla</div>
                                </div>
                            </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                @Html.LabelFor(model => model.legalLame, htmlAttributes: new { @class = "control-label" })
                                @Html.EditorFor(model => model.legalLame, new { @class = "form-control", required = "required" })
                                @Html.ValidationMessageFor(model => model.legalLame, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="clearfix"></div>
                        <hr /><br />
                        <div class="col-md-3">
                            <div class="form-group">
                                @Html.LabelFor(model => model.legalPName, htmlAttributes: new { @class = "control-label" })
                                @Html.EditorFor(model => model.legalPName, new { @class = "form-control", required = "required" })
                                @Html.ValidationMessageFor(model => model.legalPName, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="col-md-3">
                            <div class="form-group">
                                @Html.LabelFor(model => model.legalPSurname, htmlAttributes: new { @class = "control-label" })
                                @Html.EditorFor(model => model.legalPSurname, new { @class = "form-control", required = "required" })
                                @Html.ValidationMessageFor(model => model.legalPSurname, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="col-md-3">
                            <div class="form-group">
                                @Html.LabelFor(model => model.legalPFathername, htmlAttributes: new { @class = "control-label" })
                                @Html.EditorFor(model => model.legalPFathername, new { @class = "form-control", required = "required" })
                                @Html.ValidationMessageFor(model => model.legalPFathername, "", new { @class = "text-danger" })
                            </div>
                        </div>

                    </div>
                </div>
        
            <div class="clearfix"></div>
            <hr /><br />    
            <input hidden name="addressIdFU" id="addressIdFU" />
            <div class="col-md-12"><label class="control-label">Ünvanı</label></div>
            <div class="sign-in-page inner-bottom-sm" id="profileAdminUnitFU">
                <script>
                    $(document).ready(function () {
                        $.ajax({
                            url: '/PotentialClient/AdminUnit?pId=0&status=1',
                            type: 'GET',
                            success: function (result) {
                                $('#profileAdminUnitFU').html(result);

                                $("select[name='adfuId[0]']").change();


                                $.ajax({
                                    url: '/PotentialClient/AdminUnit?pId=0',
                                    type: 'GET',
                                    success: function (result) {
                                        $('#profileAdminUnit').html(result);

                                        $("select[name='adId[0]']").change();
                                    },
                                    error: function () {

                                    }
                                });
                            },
                            error: function () {

                            }
                        });
                    });
                </script>
            </div>

                <div class="clearfix"></div>
                <br /><br />

                <h4>Məhsulu seçin</h4>

                <input hidden name="productId" id="productId" />

                <div class="row">

                    <div class="sign-in-page inner-bottom-sm" id="profileProductCatalog">
                        <script>
                            $(document).ready(function () {
                                $.ajax({
                                    url: '/PotentialClient/ProductCatalog?pId=0',
                                    type: 'GET',
                                    success: function (result) {
                                        $('#profileProductCatalog').html(result);
                                    },
                                    error: function () {

                                    }
                                });
                            });
                        </script>
                        @*@Html.Action("ProductCatalog", "PotentialClient", new { pId = 0 })*@
                    </div>

                    <div class="clearfix"></div>
                    <hr /><br />
                    <div class="col-md-3">
                        <div class="form-group">
                            @Html.LabelFor(model => model.startDate, htmlAttributes: new { @class = "control-label" })
                            @Html.EditorFor(model => model.startDate, new { @class = "form-control", required = "required" })
                            @Html.ValidationMessageFor(model => model.startDate, "", new { @class = "text-danger" })
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            @Html.LabelFor(model => model.endDate, htmlAttributes: new { @class = "control-label" })
                            @Html.EditorFor(model => model.endDate, new { @class = "form-control", required = "required" })
                            @Html.ValidationMessageFor(model => model.endDate, "", new { @class = "text-danger" })
                        </div>
                    </div>
                </div>

                <div class="clearfix"></div>
            <input hidden name="addressId" id="addressId" />
            <h4>Regionu seçin</h4>
            <div class="row">
                <div class="sign-in-page inner-bottom-sm" id="profileAdminUnit">
                </div>
            </div>
                <div class="clearfix"></div>
                <div class="form-group">
                    @Html.LabelFor(model => model.description, htmlAttributes: new { @class = "control-label" })
                    @Html.TextAreaFor(model => model.description, new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.description, "", new { @class = "text-danger" })
                </div>
                <div class="clearfix"></div>
            </div>

        <div class="clearfix"></div>
            <button class="btn btn-primary btn-lg pull-right" type="submit">
                <i class="glyphicon glyphicon-ok"></i>&nbsp;Potensial intehsalçıları əlavə et
            </button>
            <br />
            <br />
    </div>

}



<br /><br />


    <div id="selectedProducts">
        <script>
            $(document).ready(function () {
                $.ajax({
                    url: '/PotentialClient/SelectedProducts',
                    type: 'GET',
                    success: function (result) {
                        $('#selectedProducts').html(result);
                    },
                    error: function () {

                    }
                });
            });
        </script>
    </div>












